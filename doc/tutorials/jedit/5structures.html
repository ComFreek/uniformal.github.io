<!doctype html>
<html lang="en">
	<!-- This is the layout used for all pages in the wiki-style documentation.
        The wiki files must have "layout: doc" in their front matter.
        This file can use page.NAME to refer to variables declared in the front matter
        and content to refer to the body of the md file.
   -->

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!--
      Do not use base tag: <base href="/uniformal.github.io/" />
      Since otherwise we could not keep links in the documentation relative anymore - without a hassle at least.
      We would always have to prepend doc/ or something.

      Hence, use e.g. `/uniformal.github.io/lib/css/bootstrap.min.css` to refer to assets in this file only.
    -->
    <link rel="icon" href="https://comfreek.github.io/uniformal.github.io/favicon.ico">

    <title>MMT - 5 - Structures, Lambda, Pi and Implicit Arguments</title>

    <link href="https://comfreek.github.io/uniformal.github.io/lib/css/bootstrap.min.css" rel="stylesheet" />
	  <link href="https://comfreek.github.io/uniformal.github.io/lib/css/doc.css" rel="stylesheet" />
		<link href="https://comfreek.github.io/uniformal.github.io/lib/css/pygments-default.css" rel="stylesheet" />
	
  </head>
  <body>
	
<nav class="navbar navbar-expand navbar-dark site-header" site-header >
    <div class="container">
        <a class="navbar-brand" href="/">
            <img src="https://comfreek.github.io/uniformal.github.io/lib/css/img/logo_dark.svg" width="30" height="30" class="d-inline-block align-top" alt="">
            The MMT Language and System
        </a>
    </div>
</nav>

	
		<div class="container-fluid main">
			<div class="row">
				<div class="col-12 col-md-3 col-xl-2">
					<ul class="nav flex-column">
						


<div class="list-group">
  
    


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/"
    
>
    Overview
</a>

  
    


    








<a class="list-group-item list-group-item-action expandable " href="https://comfreek.github.io/uniformal.github.io/doc/setup/">
    Setting up MMT
</a>





  
    


    








<a class="list-group-item list-group-item-action expandable active" href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/">
    Tutorials
</a>




    <div class="list-group">
        
            


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/prototyping/"
    
>
    Language Design in MMT
</a>

        
            


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/applications/getting-started"
    
>
    Getting Started as an MMT API user
</a>

        
            


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/applications/application-development"
    
>
    Application Development with MMT
</a>

        
            


    








<a class="list-group-item list-group-item-action expandable active" href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/jedit/">
    Writing MMT Documents with jEdit
</a>




    <div class="list-group">
        
            


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/jedit/1archives.html"
    
>
    1 - Creating Archives
</a>

        
            


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/jedit/2theories.html"
    
>
    2 - A First Theory
</a>

        
            


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/jedit/3LF.html"
    
>
    3 - LF and Judgments-as-Types
</a>

        
            


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/jedit/4natded.html"
    
>
    4 - Natural Deduction for Intuitionistic Propositional Logic
</a>

        
            


    



<a class="list-group-item list-group-item-action active"
    
        href="https://comfreek.github.io/uniformal.github.io/doc/tutorials/jedit/5structures.html"
    
>
    5 - Structures, Lambda, Pi and Implicit Arguments
</a>

        
    </div>


        
    </div>


  
    


    








<a class="list-group-item list-group-item-action expandable " href="https://comfreek.github.io/uniformal.github.io/doc/philosophy/">
    The Philosophy behind MMT
</a>





  
    


    








<a class="list-group-item list-group-item-action expandable " href="https://comfreek.github.io/uniformal.github.io/doc/language/">
    The MMT Language
</a>





  
    


    








<a class="list-group-item list-group-item-action expandable " href="https://comfreek.github.io/uniformal.github.io/doc/archives/">
    MMT-Archives
</a>





  
    


    








<a class="list-group-item list-group-item-action expandable " href="https://comfreek.github.io/uniformal.github.io/doc/api/">
    The MMT API
</a>





  
    


    








<a class="list-group-item list-group-item-action expandable " href="https://comfreek.github.io/uniformal.github.io/doc/applications/">
    Applications and Projects based on MMT
</a>





  
    


    








<a class="list-group-item list-group-item-action expandable " href="https://comfreek.github.io/uniformal.github.io/doc/development/">
    Development
</a>





  
    


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/community/"
    
>
    Community & Communication
</a>

  
    


    



<a class="list-group-item list-group-item-action "
    
        href="https://comfreek.github.io/uniformal.github.io/doc/contribs"
    
>
    Contributed Articles
</a>

  
</div>
					</ul>
				</div>
				<div class="col-12 col-md-9 col-xl-8 content">
					<h2>5 - Structures, Lambda, Pi and Implicit Arguments</h2>
					<hr />
	
					<p><a href="4natded.html">&lt; 4 - Natural Deduction for Intuitionistic Propositional Logic</a></p>

<p>We want to specify the proof rules of the <em>natural deduction</em> calculus for (intuitionistic) propositional logic. The first thing to note here, is that our <code class="highlighter-rouge">PLSyntax</code> theory declares all the constants/operators of propositional logic, but doesn’t provide any definitions for them - <code class="highlighter-rouge">equiv</code> could have easily been defined as <code class="highlighter-rouge">(A ⇒ B) ∧ (B ⇒ A)</code>, and of course <code class="highlighter-rouge">False</code> is by definition <code class="highlighter-rouge">¬ ⊤</code>.</p>

<p>We <em>could</em> ameliorate that by just adding the definitions in the <code class="highlighter-rouge">PLSyntax</code> theory - instead, we’re going to use <a href="../../language/declarations.html#structures">structures</a>. They behave similar to includes, but allow us to modify the included symbols within certain constraints. We’re going to use them, to add new definitions to our constants.</p>

<p>Let us find out, how to define <code class="highlighter-rouge">equiv</code> formally. Its type is <code class="highlighter-rouge">o→o→o</code>, so we need to construct an element of a function type, which we can do using <code class="highlighter-rouge">λ</code>. The result is:</p>

<p><code class="highlighter-rouge">λ A:prop. λ B:prop. (A ⇒ B) ∧ (B ⇒ A)</code></p>

<p>In LF, lambdas are denoted by square brackets enclosing the variable that is bound by it, so the above translates to</p>

<p><code class="highlighter-rouge">[A:prop][B:prop](A ⇒ B) ∧ (B ⇒ A)</code>.</p>

<p>Note:</p>

<ul>
  <li>Since it is easily inferrable from <code class="highlighter-rouge">(A ⇒ B) ∧ (B ⇒ A)</code>, that <code class="highlighter-rouge">A</code> and <code class="highlighter-rouge">B</code> have to be of type <code class="highlighter-rouge">prop</code>, we can just leave out the types of the bound variables and have MMT infer them.</li>
  <li>notationally, <code class="highlighter-rouge">[A][B]</code> is the same as <code class="highlighter-rouge">[A,B]</code>.</li>
</ul>

<p>Now, for our new theory. Using a structure which we call <code class="highlighter-rouge">syn</code> (for <em>syntax</em>), we can create a new theory <code class="highlighter-rouge">PLIntNatDed</code> (for <em>Int</em>uitionistic <em>P</em>ropositional <em>L</em>ogic <em>Nat</em>ural <em>Ded</em>uction) and give the new definitions:</p>

<p><img src="/uniformal.github.io/doc/img/tut01/theory3.png" alt="`theory PLIntNatDed : ur:?LF = include ?Logic \RS	structure syn : ?PLSyntax =	prop = prop \RS	False = ¬ ⊤ \RS	equiv = [A,B] (A ⇒ B) ∧ (B ⇒ A) \RS \GS`" /></p>

<p>Notice, that:</p>

<ul>
  <li>The constants in <code class="highlighter-rouge">PLSyntax</code>, that do <em>not</em> occur in the structure are still included via the structure,</li>
  <li>structures create “fresh copies” of every symbol imported through it. This means, that the <code class="highlighter-rouge">prop</code> imported through the structure <code class="highlighter-rouge">syn</code> is <strong>not</strong> the same symbol as the one imported via the <code class="highlighter-rouge">include ?Logic</code>. The first statement <code class="highlighter-rouge">prop=prop</code> in the structure is therefore necessary, to give the <code class="highlighter-rouge">prop</code> imported via <code class="highlighter-rouge">syn</code> a new <em>definition</em>. This guarantees, that the two <code class="highlighter-rouge">prop</code> are equal. We <em>could</em> (maybe even <em>should</em>) do the same with <code class="highlighter-rouge">proof</code> as well, since that too has now two copies available; however, since <code class="highlighter-rouge">proof</code> doesn’t occur anywhere in <code class="highlighter-rouge">PLSyntax</code> we can simply ignore the one imported by <code class="highlighter-rouge">syn</code>.</li>
</ul>

<p>Since the structure imports all the operators, we can again define a testing constant in our new theory like before:</p>

<p><img src="/uniformal.github.io/doc/img/tut01/testconstant.png" alt="`test = A ∧ B ⇒ ¬ C ∨ A ∧ B \RS`" /></p>

<p>and it type checks as before. However, if we try to use the symbol names instead:</p>

<p><img src="/uniformal.github.io/doc/img/tut01/testconstant2.png" alt="`test = imp (and A B) (or (not C) (and A B)) \RS`" /></p>

<p>we get an error. That’s because structures change the names of the objects - what used to be <code class="highlighter-rouge">imp</code> (and was declared in <code class="highlighter-rouge">PLSyntax</code>) is now <code class="highlighter-rouge">syn/imp</code> (and is declared in <code class="highlighter-rouge">PLIntNatDed</code>). If we adapt the constant accordingly, it type checks again:</p>

<p><img src="/uniformal.github.io/doc/img/tut01/testconstant3.png" alt="`test = syn/imp (syn/and A B) (syn/or (syn/not C) (syn/and A B)) \RS`" /></p>

<hr />
<p>We are now ready to formalize the <a href="4natded.html#the-proof-rules">natural deduction rules</a>. For that we need dependent functions, which in LF are denoted by curly braces enclosing the bound variables - so the inference rule</p>

<p><img src="https://latex.codecogs.com/gif.latex?%5Cinline%20%5Cdfrac%7B%5Cvdash%20A%5Cquad%20%5Cvdash%20B%7D%7B%5Cvdash%20A%20%5Cwedge%20B%7D" alt="`\dfrac{\vdash A\quad \vdash B}{\vdash A \wedge B}`" /></p>

<p>, which we can express in the dependently typed lambda calculus as</p>

<p><img src="https://latex.codecogs.com/gif.latex?%5Cinline%20%5Cprod_%7BA%3Aprop%7D%5Cprod_%7BB%3Aprop%7D%5Cvdash%20A%5C%3B%20%5Cto%5C%3B%20%5Cvdash%20B%5C%3B%5Cto%5C%3B%5Cvdash%20A%5Cwedge%20B" alt="`\prod_{A:prop}\prod_{B:prop}\vdash A \to \vdash B \to \vdash A\wedge B`" /></p>

<p>is ultimately written <code class="highlighter-rouge">{A,B} ⊦ A → ⊦ B → ⊦ A ∧ B</code>.</p>

<p>This leads us to these constants:</p>

<p><img src="/uniformal.github.io/doc/img/tut01/theory4.png" alt="`trueI : ⊦ ⊤ \US # ⊤I	\RS falseE : {A} ⊦ ⊥  → ⊦ A \US # ⊥E 2 1 \RS notI : {A} (⊦ A → ⊦ ⊥) → ⊦ ¬A	\US # ¬I 2 \RS notE : {A} ⊦ A → ⊦ ¬A 	→ ⊦ ⊥ \US # ¬E 2 3 \RS andI : {A,B} ⊦ A → ⊦ B → ⊦ A ∧ B \US # ∧I 3 4	\RS andEl : {A,B}		⊦ A ∧ B					→ ⊦ A			\US # ∧El 3	\RS andEr	: {A,B}		⊦ A ∧ B					→ ⊦ B			\US # ∧Er 3	\RS impI : {A,B}		(⊦ A → ⊦ B)			→ ⊦ A ⇒ B	\US # ⇒I 3 \RS impE : {A,B}		⊦ A ⇒ B → ⊦ A		→ ⊦ B			\US # ⇒E 3 4 \RS orIl : {A, B}		⊦ A							→ ⊦ A ∨ B	\US # ∨Il 3 2	\RS orIr : {A, B} ⊦ B → ⊦ A ∨ B \US # ∨Ir 1 3	\RS orE : {A,B,C} (⊦ A → ⊦ C) → (⊦ B → ⊦ C)  → ⊦ A ∨ B → ⊦ C \US # ∨-E 4 5 6	\RS`" /></p>

<p>Note:</p>

<ul>
  <li>In <code class="highlighter-rouge">falseE</code>, we use the notation <code class="highlighter-rouge">⊥E 2 1</code> to flip the arguments. We could have defined the type just as well as <code class="highlighter-rouge">⊦ ⊥ → {A}⊦ A</code>, but that would have looked less nice.</li>
  <li>In <code class="highlighter-rouge">notI</code> we omit the first argument in the notation <code class="highlighter-rouge">¬I 2</code>, since MMT can <em>infer</em> the first argument <code class="highlighter-rouge">A</code> from the second one, which is a proof of <code class="highlighter-rouge">⊦ A</code> - since the (type of the) second depends on the first, the first can be inferred from the second</li>
  <li>Analogously in the other constants - we define our notations such that we can omit the arguments we don’t want to have to “deal with”, i.e. the ones that can be inferred from other arguments.</li>
</ul>

<hr />
<p>Finally, we can extend this theory to classical logic. Just for fun, we will use another structure for that, since that allows us to now define the other logical connectives as well: In classical logic, <code class="highlighter-rouge">A∨B = ¬(¬A ∧ ¬B)</code> and <code class="highlighter-rouge">A ⇒ B = ¬(A ∧ ¬B)</code>.
So first, we declare a structure from <code class="highlighter-rouge">PLSyntax</code> to add all the definitions, then we need another structure for <code class="highlighter-rouge">PLIntNatDed</code> in which we <em>define</em> the structure <code class="highlighter-rouge">PLIntNatDed?syn</code> as this <em>new</em> structure <code class="highlighter-rouge">PLNatDed?syn</code>. The we can add tertium non datur:</p>

<p><img src="/uniformal.github.io/doc/img/tut01/theory5.png" alt="` theory PLNatDed : ur:?LF = 	include ?Logic \RS structure syn : ?PLSyntax = prop 	= prop 	\RS proof	= proof	\RS False 	= ¬ ⊤ 		\RS equiv 	= [A,B] (A ⇒ B) ∧ (B ⇒ A) 	\RS imp   	= [A,B] ¬(A ∧ ¬B) 				\RS or			= [A,B] ¬ (¬A ∧ ¬B)				\RS \GS structure int : ?PLIntNatDed = structure syn = ?PLNatDed?syn \RS \GS tnd : {A} ⊦ A ∨ ¬A \RS \GS`" /></p>

<p>Note:</p>

<ul>
  <li>This time, we need to define <code class="highlighter-rouge">proof</code> as well, since we used it heavily in <code class="highlighter-rouge">PLIntNatDed</code>, and thus need to make sure, that the two copies are identified,</li>
  <li>the definition of a structure (in <code class="highlighter-rouge">int</code>) expects a <em>path</em>, which is why we prepend the module name (<code class="highlighter-rouge">?PLNatDed</code>) - we’re giving the <em>relative URI</em> of <code class="highlighter-rouge">int</code> instead of a symbol reference <em>to</em> <code class="highlighter-rouge">int</code>.</li>
</ul>

<hr />

				</div>
			</div>
		</div>
	


	<div class="container">
		<footer class="container">

    <hr />
    <p>
        MMT is developed and maintained mostly by <a href="http://kwarc.info/frabe/" target="_blank">Florian Rabe</a>. <br />
        
        This page is hosted via github pages and can be edited <a href="https://github.com/UniFormal/uniformal.github.io/edit/master/doc/tutorials/jedit/5structures.md" target="_blank">directly in the browser</a>. <br/>
    </p>
</footer>
	</div>

    <script src="https://comfreek.github.io/uniformal.github.io/lib/js/jquery-3.3.1.min.js"></script>
    <script src="https://comfreek.github.io/uniformal.github.io/lib/js/bootstrap.min.js"></script>
		<script src="https://comfreek.github.io/uniformal.github.io/lib/js/doc.js"></script>
		<script src="https://comfreek.github.io/uniformal.github.io/lib/js/api.js"></script>
	
  </body>
</html>
